<%= form_for(@user,:html => {:class=>'form-horizontal'}) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

      <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :姓名 , class: "col-sm-2 control-label"%>
    <div class="col-sm-10">
    <%= f.text_field :name , class: "form-control"%>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :登陆名 , class: "col-sm-2 control-label"%>
    <div class="col-sm-10">
    <%= f.text_field :logon_name , class: "form-control"%>
    </div>
  </div>
  <% if mode=="new" %>
  <div class="form-group">
    <%= f.label :密码 , class: "col-sm-2 control-label"%>
    <div class="col-sm-10">
    <%= f.password_field :password_digest , class: "form-control"%>
    </div>
  </div>
  <% end %>
  <div class="form-group">
    <%= f.label :是否有效 , class: "col-sm-2 control-label"%>
    <div class="col-sm-1 ">
    <%= f.check_box :is_valid , class: "form-control pull-left"%>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :是否公司领导 , class: "col-sm-2 control-label"%>
    <div class="col-sm-1">
    <%= f.check_box :is_leader , class: "form-control"%>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :是否管理员 , class: "col-sm-2 control-label"%>
    <div class="col-sm-1">
    <%= f.check_box :is_admin , class: "form-control"%>
    </div>
  </div>
  <div class="form-group">
    <%= f.label :所属部门, class: "col-sm-2 control-label"%>
    <div class="col-sm-10">
    <%= f.select :department_id, @departments.collect{|d| [d.name,d.id]}, {include_blank: true}, class: "form-control"%>
    </div>
  </div>
  <div class="form-group ">
    <div class="pull-right">
    <%= f.submit "提交" , class: "btn btn-large btn-primary"%>
    <%= link_to '返回用户管理', users_path, class: "btn btn-default" %>
    </div>
  </div>
<% end %>
